<?phpclass push_nofity extends CI_Model{	public function __construct(){		parent::__construct();		$CI=&get_instance();		$this->live_db=$CI->load->database('live_db',TRUE);			}		public function article_total_count($query , $type){		if($type=='1'){			$totalcount=$this->live_db->query('SELECT content_id FROM gallery WHERE status="P" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC')->num_rows();		}elseif($type=='2'){			$totalcount=$this->live_db->query('SELECT content_id FROM video WHERE status="P" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC')->num_rows();		}else{			$totalcount=$this->live_db->query('SELECT content_id FROM article WHERE status="P" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC')->num_rows();		}				return $totalcount;	}		public function get_latest_article($perpage,$page,$query , $type){		if($type=='1'){			$data=$this->live_db->query('SELECT content_id,title,url,first_image_path as article_page_image_path FROM gallery WHERE status="p" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC LIMIT '.$page.','.$perpage.' ')->result();		}elseif($type=='2'){			$data=$this->live_db->query('SELECT content_id,title,url,video_image_path as article_page_image_path FROM video WHERE status="p" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC LIMIT '.$page.','.$perpage.' ')->result();		}else{			$data=$this->live_db->query('SELECT content_id,title,url,article_page_image_path FROM article WHERE status="p" '.$query.' AND publish_start_date <= Now() ORDER BY publish_start_date DESC LIMIT '.$page.','.$perpage.' ')->result();		}		return $data;	}		public function checknotification($content_id){		$query=$this->live_db->query('SELECT content_id FROM push_notification WHERE content_id='.$content_id.'')->num_rows();		if($query==0):			return 0;		else:			return 1;		endif;	}		public function insertnotification($content_id){			$query=$this->live_db->insert('push_notification',array('content_id'=>$content_id,'sent_by'=>'test'));		return $query;	}}?>